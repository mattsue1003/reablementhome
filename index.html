<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ„›è¿ªæ¨‚å¾©èƒ½å½±éŸ³è™•æ–¹ç±¤</title>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel ç”¨æ–¼è§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            background-color: #f3f4f6;
        }
        /* è‡ªå®šç¾©æ²è»¸éš±è—ä½†ä¿ç•™åŠŸèƒ½ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        /* å‹•ç•«æ•ˆæœ */
        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        .animate-slide-in-right {
            animation: slideInRight 0.3s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.2s ease-out forwards;
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- å…§å»ºåœ–ç¤ºåº« (SVG Components) ---
        const ICONS = {
            Search: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            ),
            ShoppingBag: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path><path d="M3 6h18"></path><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
            ),
            X: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            ),
            Check: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"></polyline></svg>
            ),
            Copy: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
            ),
            PlayCircle: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
            ),
            Trash2: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
            ),
            Video: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>
            ),
            Info: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
            ),
            Menu: ({size, className}) => (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            )
        };

        const Icon = ({ icon, size = 20, className = "" }) => {
            const IconComponent = ICONS[icon];
            if (!IconComponent) return null;
            return <IconComponent size={size} className={className} />;
        };

        // --- è³‡æ–™åº« (å·²æ›´æ–°ç‚ºçœŸå¯¦ YouTube å½±ç‰‡ ID) ---
        // æ³¨æ„ï¼šé€™äº›å½±ç‰‡ä¾†è‡ªç¶²è·¯å…¬é–‹è³‡æºï¼Œè‹¥é€£çµå¤±æ•ˆå¯èƒ½éœ€è¦é‡æ–°æ›¿æ›
        const VIDEO_DATABASE = [
            { id: 'v1', ytid: 'YcpXUYyquLY', title: 'åå§¿æŠ¬è…¿é‹å‹•', category: 'ä¸‹è‚¢è‚ŒåŠ›', description: 'ã€å¤§æ„›çœŸå¥åº·ã€‘é©åˆé•·è¼©çš„åå§¿å¤§è…¿è‚ŒåŠ›è¨“ç·´ï¼Œå¢å¼·èµ·ç«‹è¡Œèµ°èƒ½åŠ›ã€‚', duration: '3:00' },
            { id: 'v2', ytid: 'K84qprMH1Og', title: 'å±…å®¶å¹³è¡¡è¨“ç·´', category: 'å¹³è¡¡å”èª¿', description: 'ã€åŒ—æœ¨å¥èº«ã€‘ä¸‰å€‹ç°¡å–®çš„é‹å‹•ï¼Œå¢é€²ä½ çš„å¹³è¡¡æ„Ÿï¼Œé é˜²è·Œå€’ã€‚', duration: '8:30' },
            { id: 'v3', ytid: '5xAu3_kbKE8', title: 'ä¸Šè‚¢é—œç¯€æ´»å‹•', category: 'ä¸Šè‚¢è¨“ç·´', description: 'ã€Stone P.T.ã€‘åå‹•æ“ï¼Œæ´»å‹•è‚©ã€è‚˜ã€æ‰‹éƒ¨é—œç¯€çš„å„å€‹è§’åº¦ã€‚', duration: '4:15' },
            { id: 'v4', ytid: 'LrSbivzisW0', title: 'æ‰‹æŒ‡å¼µé–‹è¨“ç·´', category: 'æ‰‹éƒ¨åŠŸèƒ½', description: 'ã€å¤šCå¤šå¥åº·ã€‘é‡å°æ‰‹æŒ‡æ‰“ä¸é–‹ã€ç²¾ç´°å‹•ä½œå›°é›£çš„è¨“ç·´ã€‚', duration: '6:20' },
            { id: 'v5', ytid: 'JjJKrcFxMxg', title: 'å¾æ¤…å­ç«™èµ·æŠ€å·§', category: 'æ—¥å¸¸ç”Ÿæ´»', description: 'æ­£ç¢ºçš„åç«™è½‰ç§»æŠ€å·§ï¼ŒçœåŠ›åˆå®‰å…¨ã€‚', duration: '3:45' },
            { id: 'v6', ytid: 'UYY2FNAbGLc', title: 'ä¸­é¢¨å¾Œæ‰‹æŒ‡èª˜ç™¼', category: 'ä¸­é¢¨å¾©å¥', description: 'ã€å¤šCå¤šå¥åº·ã€‘ä¸€æ‹›èª˜ç™¼æ‰‹æŒ‡å‹•ä½œï¼Œæ”¹å–„æ‰‹éƒ¨åŠŸèƒ½ã€‚', duration: '7:10' },
            { id: 'v7', ytid: '_PBRUHH3hlM', title: 'æ¯›å·¾æ“ä¼¸å±•', category: 'ä¸Šè‚¢è¨“ç·´', description: 'ã€ié†«å¥åº·ç¶²ã€‘ä½¿ç”¨æ¯›å·¾è¼”åŠ©é€²è¡Œ30åˆ†é˜ä¸Šè‚¢é‹å‹•ã€‚', duration: '5:50' },
            { id: 'v8', ytid: 'PKe622ObCuQ', title: 'æ ¸å¿ƒè‚Œç¾¤å¼·åŒ–', category: 'æ ¸å¿ƒè¨“ç·´', description: 'ã€å¾æ£Ÿè‹±æ•™å®˜ã€‘èººå§¿è½‰é«”ï¼Œè¨“ç·´è‡€éƒ¨å’Œè…¹å¤–æ–œè‚Œã€‚', duration: '9:00' },
            { id: 'v9', ytid: 'kj6fhy5SMBM', title: 'èªçŸ¥é›™é‡ä»»å‹™', category: 'èªçŸ¥è¨“ç·´', description: 'ã€ç·´å¥åº·ã€‘ä¸€é‚Šè¸æ­¥ä¸€é‚Šé€²è¡ŒèªçŸ¥ä»»å‹™ï¼Œé™ä½è·Œå€’é¢¨éšªã€‚', duration: '4:30' },
            { id: 'v10', ytid: 'VrCRmq9F2Mc', title: 'å–®æ‰‹ç©¿è„«è¡£ç‰©', category: 'æ—¥å¸¸ç”Ÿæ´»', description: 'ã€å¤šCå¤šå¥åº·ã€‘æ•™å°ä¸­é¢¨æ‚£è€…å¦‚ä½•å–®æ‰‹ç©¿è„«å‰é–‹å¼ä¸Šè¡£ã€‚', duration: '6:00' },
            // è¼”å…·ä»‹ç´¹å½±ç‰‡
            { id: 'v11', ytid: 'gnJr0EbsBz0', title: 'è¼ªæ¤…/æ–œå¡æ¿æ“ä½œ', category: 'è¼”å…·ä»‹ç´¹', description: 'å¦‚ä½•æ­£ç¢ºæ“ä½œè¼ªæ¤…ä¸Šä¸‹æ–œå¡æ¿ï¼Œç¢ºä¿è¡Œå‹•å®‰å…¨ã€‚', duration: '6:45' },
            { id: 'v12', ytid: '956E9fOO9W8', title: 'åŠ©è¡Œå™¨ä½¿ç”¨æ–¹æ³•', category: 'è¼”å…·ä»‹ç´¹', description: 'åŠ©è¡Œå™¨é«˜åº¦èª¿æ•´èˆ‡æ­£ç¢ºè¡Œèµ°æ­¥æ…‹æ•™å­¸ã€‚', duration: '5:20' },
            { id: 'v13', ytid: 'idW5-x02yDo', title: 'å–®æ‰‹æ‹æ–ä½¿ç”¨', category: 'è¼”å…·ä»‹ç´¹', description: 'ä¸­é¢¨å¾©å¥åç™±è€…æ‹æ–æ­£ç¢ºä½¿ç”¨æ–¹æ³•ã€‚', duration: '4:10' },
            // ç„¡éšœç¤™ç’°å¢ƒå½±ç‰‡
            { id: 'v14', ytid: 'vZzeNoen5D8', title: 'å®‰å…¨æ‰¶æ‰‹å®‰è£', category: 'ç„¡éšœç¤™ç’°å¢ƒ', description: 'æµ´å®¤é˜²æ»‘èˆ‡å®‰å…¨æ‰¶æ‰‹å®‰è£æ•™å­¸ï¼Œé é˜²è·Œå€’ã€‚', duration: '7:30' },
            { id: 'v15', ytid: 'gnJr0EbsBz0', title: 'å±…å®¶ç„¡éšœç¤™æ”¹é€ ', category: 'ç„¡éšœç¤™ç’°å¢ƒ', description: 'èªè­˜å±…å®¶ç’°å¢ƒä¸­çš„éšœç¤™ç‰©èˆ‡æ–œå¡æ¿æ‡‰ç”¨ã€‚', duration: '5:50' }, 
             { id: 'v16', ytid: 'X3oE6onSFdg', title: 'æ¨“æ¢¯å‡é™æ¤…ä»‹ç´¹', category: 'ç„¡éšœç¤™ç’°å¢ƒ', description: 'è§£æ±ºé•·è¼©ä¸Šä¸‹æ¨“æ¢¯å›°é›£çš„è¼”å…·æ–¹æ¡ˆä»‹ç´¹ã€‚', duration: '4:45' },
        ];

        // æ›´æ–°ï¼šæ–°å¢åˆ†é¡æ¨™ç±¤
        const CATEGORIES = ['å…¨éƒ¨', 'è¼”å…·ä»‹ç´¹', 'ç„¡éšœç¤™ç’°å¢ƒ', 'ä¸Šè‚¢è¨“ç·´', 'ä¸‹è‚¢è‚ŒåŠ›', 'å¹³è¡¡å”èª¿', 'æ‰‹éƒ¨åŠŸèƒ½', 'æ—¥å¸¸ç”Ÿæ´»', 'èªçŸ¥è¨“ç·´', 'ä¸­é¢¨å¾©å¥', 'æ ¸å¿ƒè¨“ç·´'];

        // --- ä¸»æ‡‰ç”¨ç¨‹å¼ ---
        const App = () => {
            // ç‹€æ…‹ç®¡ç†
            const [searchTerm, setSearchTerm] = useState('');
            const [activeCategory, setActiveCategory] = useState('å…¨éƒ¨');
            const [selectedVideos, setSelectedVideos] = useState([]); // è³¼ç‰©è»Š
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [previewVideo, setPreviewVideo] = useState(null); // ç•¶å‰é è¦½çš„å½±ç‰‡
            const [copyStatus, setCopyStatus] = useState(false); // è¤‡è£½æˆåŠŸæç¤º

            // ç¯©é¸é‚è¼¯
            const filteredVideos = useMemo(() => {
                return VIDEO_DATABASE.filter(video => {
                    const matchesSearch = video.title.includes(searchTerm) || video.description.includes(searchTerm);
                    const matchesCategory = activeCategory === 'å…¨éƒ¨' || video.category === activeCategory;
                    return matchesSearch && matchesCategory;
                });
            }, [searchTerm, activeCategory]);

            // åŠ å…¥/ç§»é™¤æ¸…å–®
            const toggleSelection = (video) => {
                if (selectedVideos.find(v => v.id === video.id)) {
                    setSelectedVideos(prev => prev.filter(v => v.id !== video.id));
                } else {
                    setSelectedVideos(prev => [...prev, video]);
                }
            };

            // æª¢æŸ¥æ˜¯å¦å·²é¸æ“‡
            const isSelected = (id) => !!selectedVideos.find(v => v.id === id);

            // è¤‡è£½åˆ†äº«æ–‡å­—
            const copyToClipboard = () => {
                if (selectedVideos.length === 0) return;

                const dateStr = new Date().toLocaleDateString('zh-TW');
                let text = `ã€æ„›è¿ªæ¨‚å¾©èƒ½è™•æ–¹ç±¤ã€‘\næ—¥æœŸï¼š${dateStr}\n\næ‚¨å¥½ï¼Œé€™æ˜¯ç‚ºæ‚¨æŒ‘é¸çš„å¾©èƒ½é‹å‹•å½±ç‰‡ï¼Œè«‹ä¾ç…§å½±ç‰‡æŒ‡ç¤ºé€²è¡Œç·´ç¿’ï¼Œè‹¥æœ‰ä¸é©è«‹æš«åœä¸¦è«®è©¢æ²»ç™‚å¸«ã€‚\n\n`;
                
                selectedVideos.forEach((v, index) => {
                    text += `${index + 1}. ${v.title} (${v.duration})\n`;
                    text += `https://www.youtube.com/watch?v=${v.ytid}\n\n`;
                });

                text += `åŠ æ²¹ï¼æŒä¹‹ä»¥æ†å°±èƒ½çœ‹è¦‹é€²æ­¥ã€‚`;

                // åŸ·è¡Œè¤‡è£½
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopyStatus(true);
                    setTimeout(() => setCopyStatus(false), 2000);
                } catch (err) {
                    console.error('è¤‡è£½å¤±æ•—', err);
                    alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚');
                }
                document.body.removeChild(textArea);
            };

            return (
                <div className="min-h-screen pb-24 md:pb-0">
                    {/* --- é é¦– --- */}
                    <header className="bg-teal-600 text-white shadow-lg sticky top-0 z-40">
                        <div className="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <Icon icon="Video" className="text-teal-100" />
                                <h1 className="text-xl font-bold tracking-wide">æ„›è¿ªæ¨‚å¾©èƒ½å½±éŸ³åº«</h1>
                            </div>
                            
                            {/* è³¼ç‰©è»ŠæŒ‰éˆ• (Mobile/Desktop) */}
                            <button 
                                onClick={() => setIsCartOpen(true)}
                                className="relative p-2 rounded-full hover:bg-teal-700 transition-colors"
                            >
                                <Icon icon="ShoppingBag" />
                                {selectedVideos.length > 0 && (
                                    <span className="absolute top-0 right-0 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full animate-pulse border-2 border-teal-600">
                                        {selectedVideos.length}
                                    </span>
                                )}
                            </button>
                        </div>

                        {/* æœå°‹èˆ‡åˆ†é¡åˆ— */}
                        <div className="bg-teal-700 px-4 py-3 shadow-inner">
                            <div className="max-w-6xl mx-auto space-y-3">
                                {/* æœå°‹æ¡† */}
                                <div className="relative">
                                    <Icon icon="Search" className="absolute left-3 top-1/2 -translate-y-1/2 text-teal-200" size={18} />
                                    <input 
                                        type="text" 
                                        placeholder="æœå°‹å½±ç‰‡ (ä¾‹å¦‚: æŠ¬è…¿, å¹³è¡¡, è¼ªæ¤…...)" 
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                        className="w-full bg-teal-800/50 text-white placeholder-teal-300 rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-teal-400 border border-teal-600"
                                    />
                                </div>
                                
                                {/* åˆ†é¡æ¨™ç±¤ (å¯æ©«å‘æ²å‹•) */}
                                <div className="flex gap-2 overflow-x-auto hide-scrollbar pb-1">
                                    {CATEGORIES.map(cat => (
                                        <button
                                            key={cat}
                                            onClick={() => setActiveCategory(cat)}
                                            className={`whitespace-nowrap px-4 py-1.5 rounded-full text-sm font-medium transition-all ${
                                                activeCategory === cat 
                                                ? 'bg-white text-teal-700 shadow-md scale-105' 
                                                : 'bg-teal-800 text-teal-100 hover:bg-teal-600'
                                            }`}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* --- ä¸»è¦å…§å®¹å€ --- */}
                    <main className="max-w-6xl mx-auto px-4 py-6">
                        
                        <div className="flex justify-between items-center mb-4">
                            <h2 className="text-gray-700 font-bold flex items-center gap-2">
                                <span className="bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm">{activeCategory}</span>
                                <span className="text-sm text-gray-500 font-normal">å…± {filteredVideos.length} éƒ¨å½±ç‰‡</span>
                            </h2>
                        </div>

                        {filteredVideos.length === 0 ? (
                            <div className="text-center py-20 text-gray-400">
                                <Icon icon="Info" size={48} className="mx-auto mb-4 opacity-50" />
                                <p>æ‰¾ä¸åˆ°ç›¸é—œå½±ç‰‡ï¼Œè«‹å˜—è©¦å…¶ä»–é—œéµå­—ã€‚</p>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                                {filteredVideos.map(video => (
                                    <div key={video.id} className={`bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden border ${isSelected(video.id) ? 'border-teal-500 ring-1 ring-teal-500' : 'border-gray-100'}`}>
                                        {/* å½±ç‰‡ç¸®åœ–å€åŸŸ */}
                                        <div className="relative group cursor-pointer aspect-video bg-gray-200" onClick={() => setPreviewVideo(video)}>
                                            <img 
                                                src={`https://img.youtube.com/vi/${video.ytid}/mqdefault.jpg`} 
                                                alt={video.title}
                                                className="w-full h-full object-cover"
                                                onError={(e) => {
                                                    e.target.onerror = null; 
                                                    e.target.src = 'https://via.placeholder.com/320x180?text=No+Thumbnail';
                                                }}
                                            />
                                            <div className="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center">
                                                <Icon icon="PlayCircle" size={48} className="text-white opacity-80 group-hover:opacity-100 scale-90 group-hover:scale-110 transition-transform" />
                                            </div>
                                            <span className="absolute bottom-2 right-2 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded">
                                                {video.duration}
                                            </span>
                                        </div>

                                        {/* å…§å®¹å€åŸŸ */}
                                        <div className="p-4">
                                            <div className="flex justify-between items-start mb-2">
                                                <span className="text-xs font-semibold text-teal-600 bg-teal-50 px-2 py-0.5 rounded-full">
                                                    {video.category}
                                                </span>
                                            </div>
                                            <h3 className="font-bold text-gray-800 mb-1 line-clamp-1" title={video.title}>{video.title}</h3>
                                            <p className="text-sm text-gray-500 line-clamp-2 mb-4 h-10">{video.description}</p>
                                            
                                            {/* æŒ‰éˆ• */}
                                            <button 
                                                onClick={() => toggleSelection(video)}
                                                className={`w-full py-2 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors ${
                                                    isSelected(video.id)
                                                    ? 'bg-teal-100 text-teal-700 hover:bg-teal-200'
                                                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                                }`}
                                            >
                                                {isSelected(video.id) ? (
                                                    <><Icon icon="Check" size={18} /> å·²åŠ å…¥æ¸…å–®</>
                                                ) : (
                                                    <><Icon icon="ShoppingBag" size={18} /> åŠ å…¥è™•æ–¹ç±¤</>
                                                )}
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>

                    {/* --- è™•æ–¹ç±¤å´é‚Šæ¬„ (Modal) --- */}
                    {isCartOpen && (
                        <div className="fixed inset-0 z-50 flex justify-end">
                            {/* èƒŒæ™¯é®ç½© */}
                            <div className="absolute inset-0 bg-black/30 backdrop-blur-sm" onClick={() => setIsCartOpen(false)}></div>
                            
                            {/* å´é‚Šæ¬„æœ¬é«” */}
                            <div className="relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-in-right">
                                <div className="p-4 border-b border-gray-100 flex justify-between items-center bg-teal-50">
                                    <h2 className="text-lg font-bold text-teal-800 flex items-center gap-2">
                                        <Icon icon="ShoppingBag" />
                                        å·²é¸å½±ç‰‡æ¸…å–® ({selectedVideos.length})
                                    </h2>
                                    <button onClick={() => setIsCartOpen(false)} className="text-gray-400 hover:text-gray-600">
                                        <Icon icon="X" />
                                    </button>
                                </div>

                                <div className="flex-1 overflow-y-auto p-4 space-y-3">
                                    {selectedVideos.length === 0 ? (
                                        <div className="flex flex-col items-center justify-center h-64 text-gray-400">
                                            <Icon icon="Video" size={48} className="mb-4 text-gray-300" />
                                            <p>æ¸…å–®æ˜¯ç©ºçš„</p>
                                            <p className="text-sm">å¿«å»æŒ‘é¸é©åˆçš„å¾©èƒ½å½±ç‰‡å§ï¼</p>
                                        </div>
                                    ) : (
                                        selectedVideos.map((video, idx) => (
                                            <div key={video.id} className="flex gap-3 bg-white border border-gray-100 p-2 rounded-lg shadow-sm">
                                                <div className="w-20 aspect-video bg-gray-200 rounded overflow-hidden flex-shrink-0 relative">
                                                    <img 
                                                        src={`https://img.youtube.com/vi/${video.ytid}/mqdefault.jpg`} 
                                                        className="w-full h-full object-cover"
                                                        onError={(e) => {
                                                            e.target.onerror = null; 
                                                            e.target.src = 'https://via.placeholder.com/320x180?text=No+Thumbnail';
                                                        }}
                                                    />
                                                    <div className="absolute top-0 left-0 bg-teal-600 text-white text-xs px-1.5 rounded-br font-bold">
                                                        {idx + 1}
                                                    </div>
                                                </div>
                                                <div className="flex-1 min-w-0">
                                                    <h4 className="font-bold text-gray-800 text-sm truncate">{video.title}</h4>
                                                    <p className="text-xs text-gray-500 mb-2">{video.category} â€¢ {video.duration}</p>
                                                </div>
                                                <button 
                                                    onClick={() => toggleSelection(video)}
                                                    className="text-red-400 hover:text-red-600 p-1 self-center"
                                                >
                                                    <Icon icon="Trash2" size={18} />
                                                </button>
                                            </div>
                                        ))
                                    )}
                                </div>

                                {/* åº•éƒ¨æ“ä½œå€ */}
                                <div className="p-4 border-t border-gray-100 bg-gray-50 space-y-3">
                                    <div className="bg-yellow-50 text-yellow-800 text-xs p-3 rounded border border-yellow-200">
                                        ğŸ’¡ æç¤ºï¼šé»æ“Šã€Œè¤‡è£½åˆ†äº«å…§å®¹ã€å¾Œï¼Œå¯ç›´æ¥è²¼åˆ° LINE å‚³é€çµ¦å®¶å±¬ã€‚
                                    </div>
                                    <div className="flex gap-3">
                                        <button 
                                            onClick={() => setSelectedVideos([])}
                                            disabled={selectedVideos.length === 0}
                                            className="px-4 py-3 rounded-lg border border-gray-300 text-gray-600 font-medium hover:bg-gray-100 disabled:opacity-50"
                                        >
                                            æ¸…ç©º
                                        </button>
                                        <button 
                                            onClick={copyToClipboard}
                                            disabled={selectedVideos.length === 0}
                                            className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-bold text-white shadow-md transition-all ${
                                                copyStatus 
                                                ? 'bg-green-600 scale-95' 
                                                : 'bg-teal-600 hover:bg-teal-700 hover:shadow-lg'
                                            } disabled:opacity-50 disabled:cursor-not-allowed`}
                                        >
                                            {copyStatus ? (
                                                <><Icon icon="Check" /> è¤‡è£½æˆåŠŸï¼</>
                                            ) : (
                                                <><Icon icon="Copy" /> è¤‡è£½åˆ†äº«å…§å®¹</>
                                            )}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* --- å½±ç‰‡é è¦½ Modal --- */}
                    {previewVideo && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in">
                            <div className="bg-white w-full max-w-3xl rounded-xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]">
                                <div className="p-4 flex justify-between items-center bg-gray-900 text-white">
                                    <h3 className="font-bold text-lg truncate pr-4">{previewVideo.title}</h3>
                                    <button onClick={() => setPreviewVideo(null)} className="hover:text-gray-300">
                                        <Icon icon="X" />
                                    </button>
                                </div>
                                <div className="aspect-video bg-black w-full">
                                    <iframe 
                                        width="100%" 
                                        height="100%" 
                                        src={`https://www.youtube.com/embed/${previewVideo.ytid}?autoplay=1`} 
                                        title="YouTube video player" 
                                        frameBorder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowFullScreen
                                    ></iframe>
                                </div>
                                <div className="p-6 overflow-y-auto">
                                    <div className="flex gap-2 mb-3">
                                        <span className="bg-teal-100 text-teal-800 text-xs font-bold px-2 py-1 rounded">
                                            {previewVideo.category}
                                        </span>
                                        <span className="bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded flex items-center gap-1">
                                            <Icon icon="Video" size={12} /> {previewVideo.duration}
                                        </span>
                                    </div>
                                    <p className="text-gray-700 leading-relaxed mb-6">
                                        {previewVideo.description}
                                    </p>
                                    
                                    <div className="flex justify-end">
                                         <button 
                                            onClick={() => {
                                                toggleSelection(previewVideo);
                                                // é¸æ“‡å¾Œä¸é—œé–‰è¦–çª—ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥ç¹¼çºŒçœ‹ï¼Œæˆ–è€…ä½ å¯ä»¥é¸æ“‡ setPreviewVideo(null) é—œé–‰
                                            }}
                                            className={`px-6 py-2.5 rounded-lg font-bold flex items-center gap-2 transition-colors ${
                                                isSelected(previewVideo.id)
                                                ? 'bg-gray-100 text-gray-500 hover:bg-gray-200'
                                                : 'bg-teal-600 text-white hover:bg-teal-700 shadow-md'
                                            }`}
                                        >
                                            {isSelected(previewVideo.id) ? (
                                                <><Icon icon="Check" /> å·²åœ¨æ¸…å–®ä¸­</>
                                            ) : (
                                                <><Icon icon="ShoppingBag" /> åŠ å…¥è™•æ–¹ç±¤</>
                                            )}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
